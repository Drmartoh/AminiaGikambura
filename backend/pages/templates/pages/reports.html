{% extends 'pages/base.html' %}
{% load pages_extras %}
{% block title %}Reports{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-12">
  <h1 class="text-4xl font-bold text-primary mb-4">Reports</h1>
  <p class="text-gray-600 max-w-2xl mb-12">Public reports on projects and funding.</p>
  {% if reports %}
  <div class="space-y-4">
    {% for report in reports %}
    <div class="card flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
      <div>
        <h2 class="text-xl font-bold mb-1">{{ report.title }}</h2>
        <p class="text-sm text-gray-500">{{ report.get_report_type_display }} â€¢ {{ report.report_date|date:"M d, Y" }}</p>
      </div>
      {% if report.report_url %}
      <a href="{{ report.report_url }}" target="_blank" rel="noopener noreferrer" class="btn-primary text-sm py-2 px-4 inline-block">View / Download</a>
      {% elif report.report_file %}
      <a href="{{ report.report_file.url|absolute_media:request }}" target="_blank" rel="noopener noreferrer" class="btn-primary text-sm py-2 px-4 inline-block">View / Download</a>
      {% endif %}
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="card text-center py-12">
    <p class="text-gray-600">No public reports yet.</p>
  </div>
  {% endif %}
</div>
{% endblock %}
