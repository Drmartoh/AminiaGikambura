{% extends 'pages/base.html' %}
{% load static %}

{% block title %}Home{% endblock %}

{% block content %}
<section class="relative min-h-[700px] flex items-center overflow-hidden">
  {% with hero_style=section_styles.hero %}
  {% if hero_style %}{% include "pages/includes/section_background.html" with style_obj=hero_style only %}{% else %}<div class="absolute inset-0 bg-gradient-to-br from-primary via-primary-light to-teal"></div><div class="absolute inset-0 overflow-hidden"><div class="absolute top-20 left-10 w-72 h-72 bg-accent/20 rounded-full blur-3xl animate-pulse"></div><div class="absolute bottom-20 right-10 w-96 h-96 bg-sky-500/20 rounded-full blur-3xl animate-pulse" style="animation-delay:1s"></div></div>{% endif %}
  {% endwith %}
  <div class="container mx-auto px-4 py-20 relative z-10">
    <div class="mb-10 flex flex-col md:flex-row items-center justify-center gap-6 md:gap-8">
      <div class="relative inline-block">
        <div class="relative bg-white/98 backdrop-blur-md px-8 py-6 md:px-14 md:py-10 rounded-3xl shadow-2xl">
          <div class="text-center">
            <div class="font-display text-4xl md:text-6xl lg:text-7xl font-black mb-3 leading-tight" style="background:linear-gradient(135deg,#0d4f3c 0%,#fbbf24 50%,#0d4f3c 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;">
              Aminia Gikambura
            </div>
            <div class="text-xl md:text-3xl lg:text-4xl font-bold text-accent mb-3 tracking-wide">
              Community Based Organisation
            </div>
            <span class="inline-block px-6 py-2 bg-gradient-to-r from-primary to-primary-light text-white rounded-full text-base md:text-lg font-bold mt-2 shadow-lg">(CBO)</span>
            <p class="text-white/90 text-xs mt-3">Reg. No. {% if site_settings and site_settings.registration_number %}{{ site_settings.registration_number }}{% else %}DSD/22/120/02/168788{% endif %}</p>
          </div>
        </div>
      </div>
      <div class="flex flex-col gap-3 md:gap-4">
        <a href="{% url 'pages:register' %}" class="bg-accent hover:bg-accent-light text-white font-semibold py-2 px-4 md:py-2.5 md:px-5 rounded-lg text-sm md:text-base transition-all shadow-lg hover:shadow-xl whitespace-nowrap text-center">Join the CBO</a>
        <a href="{% url 'pages:projects' %}" class="bg-white/95 hover:bg-white text-primary font-semibold py-2 px-4 md:py-2.5 md:px-5 rounded-lg text-sm md:text-base transition-all shadow-lg hover:shadow-xl whitespace-nowrap text-center">Support a Project</a>
        <a href="{% url 'pages:about' %}" class="border-2 border-white/80 hover:border-white hover:bg-white/10 text-white font-semibold py-2 px-4 md:py-2.5 md:px-5 rounded-lg text-sm md:text-base transition-all whitespace-nowrap text-center">View Our Impact</a>
      </div>
    </div>
    <div class="max-w-3xl text-white">
      <h1 class="text-5xl md:text-6xl font-bold mb-6">Empowering Youth Through <span class="block text-accent">Community Action</span></h1>
      <p class="text-xl mb-8 text-gray-100">Building a better future for our youth through innovative projects, events, and community engagement in Kenya.</p>
    </div>
  </div>
  <div class="absolute bottom-0 left-0 right-0">
    <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="white"/></svg>
  </div>
</section>

<section id="stats-section" class="py-20 bg-gray-100">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      <div class="text-center">
        <div class="text-4xl md:text-5xl font-bold text-primary mb-2">{{ stats.members }}+</div>
        <div class="text-gray-600">Active Members</div>
      </div>
      <div class="text-center">
        <div class="text-4xl md:text-5xl font-bold text-primary mb-2">{{ stats.projects }}+</div>
        <div class="text-gray-600">Projects Completed</div>
      </div>
      <div class="text-center">
        <div class="text-4xl md:text-5xl font-bold text-primary mb-2">{{ stats.events }}+</div>
        <div class="text-gray-600">Events Hosted</div>
      </div>
      <div class="text-center">
        <div class="text-4xl md:text-5xl font-bold text-primary mb-2">{{ stats.communities }}+</div>
        <div class="text-gray-600">Communities Reached</div>
      </div>
    </div>
  </div>
</section>

<section class="py-20 bg-white">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold text-center mb-4">Featured Projects</h2>
    <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">Discover our ongoing initiatives that are making a real impact in our communities.</p>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {% for project in featured_projects %}
      <a href="{% url 'pages:project_detail' project.slug %}" class="card group block">
        {% if project.featured_image %}
        <div class="w-full h-48 bg-gray-200 rounded-xl mb-4 overflow-hidden">
          <img src="{{ project.featured_image.url }}" alt="{{ project.title }}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
        </div>
        {% endif %}
        {% if project.category %}<span class="inline-block px-3 py-1 bg-primary/10 text-primary rounded-full text-sm mb-3">{{ project.category.name }}</span>{% endif %}
        <h3 class="text-xl font-bold mb-2">{{ project.title }}</h3>
        <p class="text-gray-600 mb-4 line-clamp-3">{{ project.description|truncatewords:25 }}</p>
        <span class="text-primary hover:text-primary-light font-semibold">Learn More →</span>
      </a>
      {% empty %}
      <div class="col-span-3 text-center text-gray-500">No featured projects at the moment.</div>
      {% endfor %}
    </div>
    <div class="text-center mt-12">
      <a href="{% url 'pages:projects' %}" class="btn-primary">View All Projects</a>
    </div>
  </div>
</section>

<section class="py-20 bg-gray-100">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold text-center mb-4">Upcoming Events</h2>
    <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">Join us for exciting events, workshops, and community activities.</p>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {% for event in upcoming_events %}
      <a href="{% url 'pages:event_detail' event.slug %}" class="card block">
        <div class="flex items-center justify-between mb-4">
          <span class="px-3 py-1 bg-accent/10 text-accent rounded-full text-sm">{{ event.get_event_type_display }}</span>
          <span class="text-sm text-gray-600">{{ event.start_date|date:"M d, Y" }}</span>
        </div>
        <h3 class="text-xl font-bold mb-2">{{ event.title }}</h3>
        <p class="text-gray-600 mb-4 line-clamp-2">{{ event.description|truncatewords:15 }}</p>
        <div class="flex items-center text-sm text-gray-500 mb-4">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
          {{ event.venue }}
        </div>
        <span class="text-primary hover:text-primary-light font-semibold">Learn More →</span>
      </a>
      {% empty %}
      <div class="col-span-3 text-center text-gray-500">No upcoming events at the moment.</div>
      {% endfor %}
    </div>
    <div class="text-center mt-12">
      <a href="{% url 'pages:events' %}" class="btn-primary">View All Events</a>
    </div>
  </div>
</section>

<section class="py-20 bg-white">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold text-center mb-4">Our Partners</h2>
    <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">We work with government ministries, county governments, and organizations to create lasting impact.</p>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 items-center">
      <div class="flex items-center justify-center p-6 bg-gray-50 rounded-xl">Ministry of Youth</div>
      <div class="flex items-center justify-center p-6 bg-gray-50 rounded-xl">Kiambu County</div>
      <div class="flex items-center justify-center p-6 bg-gray-50 rounded-xl">Ministry of Agriculture</div>
      <div class="flex items-center justify-center p-6 bg-gray-50 rounded-xl">Ministry of Sports</div>
    </div>
  </div>
</section>
{% endblock %}
